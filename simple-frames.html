<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Frames</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: #0a0a0a; --surface: #141414; --surface-2: #1a1a1a; --border: #2a2a2a;
      --text: #f5f5f5; --text-dim: #a1a1a1; --text-muted: #6b6b6b;
      --accent: #10b981;
    }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { font-size: 24px; margin-bottom: 8px; }
    .subtitle { color: var(--text-muted); margin-bottom: 24px; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 800px) { .grid { grid-template-columns: 1fr; } }
    .panel { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 20px; }
    .panel-title { font-size: 11px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 16px; }
    .upload-zone { border: 2px dashed var(--border); border-radius: 10px; padding: 40px 20px; text-align: center; cursor: pointer; transition: all 0.2s; }
    .upload-zone:hover { border-color: var(--accent); background: rgba(16, 185, 129, 0.05); }
    .upload-zone svg { width: 40px; height: 40px; color: var(--text-muted); margin-bottom: 12px; }
    .upload-text { color: var(--text-dim); font-size: 14px; }
    .upload-hint { color: var(--text-muted); font-size: 12px; margin-top: 4px; }
    .hidden { display: none !important; }
    .settings-group { margin-bottom: 16px; }
    .settings-group label { display: block; font-size: 13px; color: var(--text-dim); margin-bottom: 8px; }
    .size-buttons { display: flex; flex-wrap: wrap; gap: 6px; }
    .btn { padding: 8px 14px; border-radius: 6px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.15s; border: none; }
    .btn-secondary { background: var(--surface-2); color: var(--text-dim); border: 1px solid var(--border); }
    .btn-secondary:hover { background: var(--border); color: var(--text); }
    .btn-secondary.active { background: var(--accent); color: #000; border-color: var(--accent); }
    .btn-primary { background: var(--accent); color: #000; width: 100%; padding: 12px; font-size: 14px; }
    .btn-primary:hover { filter: brightness(1.1); }
    .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
    input[type="range"] { width: 100%; accent-color: var(--accent); }
    .preview-area { display: flex; justify-content: center; align-items: center; min-height: 400px; background: var(--surface-2); border-radius: 8px; padding: 20px; }
    #framesCanvas { max-width: 100%; max-height: 500px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üñºÔ∏è Simple Frames</h1>
    <p class="subtitle">Add realistic frames & mats for wall art listings</p>

    <div class="grid">
      <div class="panel">
        <div class="panel-title">Settings</div>

        <div class="upload-zone" id="framesUpload">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          <div class="upload-text">Drop artwork image</div>
          <div class="upload-hint">PNG or JPG</div>
        </div>
        <input type="file" id="framesInput" accept="image/*" class="hidden">

        <div class="settings-group" style="margin-top:16px;">
          <label>Frame Style</label>
          <div class="size-buttons" id="frameStyles">
            <button class="btn btn-secondary active" data-frame="thin-black">Thin Black</button>
            <button class="btn btn-secondary" data-frame="thin-white">Thin White</button>
            <button class="btn btn-secondary" data-frame="thick-black">Thick Black</button>
            <button class="btn btn-secondary" data-frame="thick-white">Thick White</button>
            <button class="btn btn-secondary" data-frame="natural-wood">Natural Wood</button>
            <button class="btn btn-secondary" data-frame="dark-wood">Dark Wood</button>
            <button class="btn btn-secondary" data-frame="gold">Gold</button>
            <button class="btn btn-secondary" data-frame="silver">Silver</button>
            <button class="btn btn-secondary" data-frame="none">No Frame</button>
          </div>
        </div>

        <div class="settings-group">
          <label>Mat Color</label>
          <div class="size-buttons" id="matColors">
            <button class="btn btn-secondary active" data-mat="#ffffff">White</button>
            <button class="btn btn-secondary" data-mat="#f5f5dc">Cream</button>
            <button class="btn btn-secondary" data-mat="#d3d3d3">Gray</button>
            <button class="btn btn-secondary" data-mat="#000000">Black</button>
            <button class="btn btn-secondary" data-mat="none">None</button>
          </div>
        </div>

        <div class="settings-group">
          <label>Mat Width: <span id="matWidthVal">8%</span></label>
          <input type="range" id="matWidth" min="0" max="20" value="8">
        </div>

        <div class="settings-group">
          <label>Background</label>
          <div class="size-buttons" id="frameBgs">
            <button class="btn btn-secondary active" data-bg="#f5f5f5">Light Wall</button>
            <button class="btn btn-secondary" data-bg="#e8e4de">Warm Wall</button>
            <button class="btn btn-secondary" data-bg="#2d2d2d">Dark Wall</button>
            <button class="btn btn-secondary" data-bg="#fff">White</button>
            <button class="btn btn-secondary" data-bg="transparent">Transparent</button>
          </div>
        </div>

        <div class="settings-group">
          <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
            <input type="checkbox" id="framesShadow" checked style="width:auto;">
            <span>Drop Shadow</span>
          </label>
        </div>

        <button class="btn btn-primary" id="framesDownload" disabled>‚¨áÔ∏è Download</button>
      </div>

      <div class="panel">
        <div class="panel-title">Preview</div>
        <div class="preview-area">
          <canvas id="framesCanvas" class="hidden"></canvas>
          <span style="color:var(--text-dim);" id="framesEmpty">Upload an image</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    let framesImage = null;

    // Upload handling
    const uploadZone = document.getElementById('framesUpload');
    const fileInput = document.getElementById('framesInput');

    uploadZone.onclick = () => fileInput.click();
    uploadZone.ondragover = e => { e.preventDefault(); uploadZone.style.borderColor = 'var(--accent)'; };
    uploadZone.ondragleave = () => { uploadZone.style.borderColor = 'var(--border)'; };
    uploadZone.ondrop = e => { e.preventDefault(); uploadZone.style.borderColor = 'var(--border)'; handleFile(e.dataTransfer.files[0]); };
    fileInput.onchange = e => handleFile(e.target.files[0]);

    async function handleFile(file) {
      if (!file?.type.startsWith('image/')) return;
      const img = new Image();
      img.onload = () => {
        framesImage = { img, name: file.name.replace(/\.[^.]+$/, '') };
        document.getElementById('framesEmpty').classList.add('hidden');
        document.getElementById('framesCanvas').classList.remove('hidden');
        document.getElementById('framesDownload').disabled = false;
        renderFrame();
      };
      img.src = URL.createObjectURL(file);
    }

    // Button handlers
    document.querySelectorAll('#frameStyles button').forEach(btn => {
      btn.onclick = () => { document.querySelectorAll('#frameStyles button').forEach(b => b.classList.remove('active')); btn.classList.add('active'); renderFrame(); };
    });
    document.querySelectorAll('#matColors button').forEach(btn => {
      btn.onclick = () => { document.querySelectorAll('#matColors button').forEach(b => b.classList.remove('active')); btn.classList.add('active'); renderFrame(); };
    });
    document.querySelectorAll('#frameBgs button').forEach(btn => {
      btn.onclick = () => { document.querySelectorAll('#frameBgs button').forEach(b => b.classList.remove('active')); btn.classList.add('active'); renderFrame(); };
    });
    document.getElementById('matWidth').oninput = e => { document.getElementById('matWidthVal').textContent = e.target.value + '%'; renderFrame(); };
    document.getElementById('framesShadow').onchange = renderFrame;

    function renderFrame() {
      if (!framesImage) return;
      const img = framesImage.img;
      const style = document.querySelector('#frameStyles .active').dataset.frame;
      const matColor = document.querySelector('#matColors .active').dataset.mat;
      const bgColor = document.querySelector('#frameBgs .active').dataset.bg;
      const matPct = parseInt(document.getElementById('matWidth').value) / 100;
      const showShadow = document.getElementById('framesShadow').checked;

      const frameThickness = { 'thin-black': 6, 'thin-white': 6, 'thick-black': 18, 'thick-white': 18, 'natural-wood': 14, 'dark-wood': 14, 'gold': 12, 'silver': 12, 'none': 0 };
      const frameW = frameThickness[style] || 8;
      const matW = matColor === 'none' ? 0 : Math.round(Math.max(img.width, img.height) * matPct);
      const shadowPad = showShadow ? 30 : 0;
      const totalW = img.width + matW * 2 + frameW * 2 + shadowPad * 2;
      const totalH = img.height + matW * 2 + frameW * 2 + shadowPad * 2;

      const canvas = document.getElementById('framesCanvas');
      canvas.width = totalW;
      canvas.height = totalH;
      const ctx = canvas.getContext('2d');

      if (bgColor === 'transparent') { ctx.clearRect(0, 0, totalW, totalH); }
      else { ctx.fillStyle = bgColor; ctx.fillRect(0, 0, totalW, totalH); }

      const frameX = shadowPad, frameY = shadowPad;
      const frameOuterW = img.width + matW * 2 + frameW * 2;
      const frameOuterH = img.height + matW * 2 + frameW * 2;

      if (showShadow && style !== 'none') {
        ctx.save();
        ctx.shadowColor = 'rgba(0,0,0,0.35)';
        ctx.shadowBlur = 25;
        ctx.shadowOffsetX = 8;
        ctx.shadowOffsetY = 10;
        ctx.fillStyle = '#000';
        ctx.fillRect(frameX, frameY, frameOuterW, frameOuterH);
        ctx.restore();
      }

      const frameColors = {
        'thin-black': '#1a1a1a', 'thin-white': '#f8f8f8', 'thick-black': '#0d0d0d', 'thick-white': '#ffffff',
        'natural-wood': '#c9a66b', 'dark-wood': '#3d2314', 'gold': '#d4a84b', 'silver': '#a8a8a8', 'none': 'transparent'
      };

      if (style !== 'none') {
        ctx.fillStyle = frameColors[style];
        ctx.fillRect(frameX, frameY, frameOuterW, frameOuterH);

        if (style === 'natural-wood' || style === 'dark-wood') {
          ctx.fillStyle = style === 'natural-wood' ? '#b8956a' : '#2a1810';
          ctx.fillRect(frameX + 2, frameY + 2, frameOuterW - 4, frameOuterH - 4);
          ctx.fillStyle = frameColors[style];
          ctx.fillRect(frameX + 4, frameY + 4, frameOuterW - 8, frameOuterH - 8);
        }
        if (style === 'gold' || style === 'silver') {
          ctx.fillStyle = style === 'gold' ? '#f0d78c' : '#d0d0d0';
          ctx.fillRect(frameX + 1, frameY + 1, frameOuterW - 2, 2);
          ctx.fillRect(frameX + 1, frameY + 1, 2, frameOuterH - 2);
        }

        ctx.fillStyle = 'rgba(0,0,0,0.15)';
        ctx.fillRect(frameX + frameW - 2, frameY + frameW - 2, frameOuterW - frameW * 2 + 4, 2);
        ctx.fillRect(frameX + frameW - 2, frameY + frameW - 2, 2, frameOuterH - frameW * 2 + 4);
      }

      if (matColor !== 'none') {
        ctx.fillStyle = matColor;
        ctx.fillRect(frameX + frameW, frameY + frameW, img.width + matW * 2, img.height + matW * 2);
        ctx.fillStyle = 'rgba(0,0,0,0.08)';
        ctx.fillRect(frameX + frameW + matW - 2, frameY + frameW + matW - 2, img.width + 4, 3);
        ctx.fillRect(frameX + frameW + matW - 2, frameY + frameW + matW - 2, 3, img.height + 4);
      }

      ctx.drawImage(img, frameX + frameW + matW, frameY + frameW + matW);
    }

    document.getElementById('framesDownload').onclick = () => {
      if (!framesImage) return;
      const canvas = document.getElementById('framesCanvas');
      const bgColor = document.querySelector('#frameBgs .active').dataset.bg;
      const format = bgColor === 'transparent' ? 'image/png' : 'image/jpeg';
      const ext = bgColor === 'transparent' ? '.png' : '.jpg';
      canvas.toBlob(blob => {
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = framesImage.name + '-framed' + ext;
        a.click();
      }, format, 0.95);
    };
  </script>
</body>
</html>
